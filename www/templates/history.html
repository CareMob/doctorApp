<ion-view view-title="Histórico" ng-init="getHistory()">
  <ion-content>  		
  		<ion-refresher
    		pulling-text="Puxe para atualizar..."
    		on-refresh="getHistory()"
    		spinner>
  		</ion-refresher>
  		<ion-item ng-repeat="appointment in history">
     			<div class="card">
	     			<div ng-repeat='scheduleTime in appointment.scheduleTime'>
	     				<div class="item item-text-wrap">
						    <p>
				     		<span>Especialidade: </span>
				       	 	<span> {{appointment.speciality}} </span>
							</p>
							<p>
					     		<span>Médico: </span>
					       	 	<span> {{appointment.doctorName}} </span>
							</p>
							<p>
					     		<span> Quando: Dia {{appointment.screenDate}} às {{scheduleTime.hour}} horas </span>
							</p>
						</div>
						<div class="item item-divider">
							<p>
					     		<span><b>Status: </b></span>
					       	 	<span> {{statusEnum.props[scheduleTime.status].description}} </span>
					       	 	{{setRate(scheduleTime.ranking)}}
				     	 	    <span  ng-hide="setHidden(scheduleTime.status)"> <rating ng-model="rate" max="max" readonly="isReadonly" on-hover="null" on-leave="overStar = null"></rating> </span>
				     	 	    {{setVisible(scheduleTime.status)}}

							</p>
						</div>			     		
	            	</div>
            	</div>
      		</ion-item>
    	</ion-list>  

   	</ion-content>
   	<div class="bar bar-footer">     
      		<button class="button button-stable" ng-click="getHistory()">Atualizar</button>
    </div>
 </ion-view>