<ion-view view-title="Meus Horários" ng-init="getAppointments()">	
	<ion-content>
		<ion-refresher
    		pulling-text="Puxe para atualizar..."
    		on-refresh="getAppointments()"
    		spinner>
  		</ion-refresher>
    	<ion-list>
     		<ion-item ng-repeat="appointment in schedules">     		
     			
	     		<div ng-repeat='scheduleTime in appointment.scheduleTime'>
	     			<div class="card">
	     				<div class="item item-text-wrap">
	     					<p>ID: {{$parent.$index + $index}}</p>
						    <p>
				     			<span>Especialidade: </span>
				       	 		<span> {{appointment.speciality}} </span>
							</p>
							<p>
					     		<span>Médico: </span>
					       	 	<span> {{appointment.doctorName}} </span>
							</p>
							<p>
					     		<span> Quando: Dia {{appointment.screenDate}} às {{scheduleTime.hour}} horas </span>
							</p>
						</div>
						<div class="item item-divider">
						    <div class="button-bar">
					            <button class="button button-small button-calm" 
					            		ng-hide="setHidden('past', appointment.date)"
					            		type="button" ng-click="avalueteDoctor($index, $parent.$index, scheduleTime)">Avaliar Médico</button>
					            <button class="button button-small button-assertive"  
					            		ng-hide="setHidden('future', appointment.date)"
				            			type="button" ng-click="cancelAppointment($index, $parent.$index, scheduleTime)">Desmarcar Consulta</button>
			            	</div>
						</div>			     		
	            	</div>
            	</div>
      		</ion-item>
    	</ion-list>
   	</ion-content>
</ion-view>



